name: final-project-env
channels:
  - pytorch         # Priority 1: Official PyTorch
  - nvidia          # Priority 2: CUDA Drivers
  - conda-forge     # Priority 3: System Binaries
  - defaults
dependencies:
  - python=3.10
  
  # 1. CORE AI LIBS (Conda-installed, GPU-enabled)
  - pytorch=2.1.0
  - torchaudio=2.1.0
  - torchvision=0.16.0
  - pytorch-cuda=12.1
  - numpy<2.0

  # 2. MEDIA LIBS (Conda-installed, Binary-safe)
  - ffmpeg
  - av

  - pip
  - pip:
      # 3. SAFE PYTHON DEPENDENCIES
      # These are all the libraries we found missing in your logs.
      - transformers==4.35.2   # Fixed for PyTorch 2.1 compatibility
      - tokenizers==0.15.0     # Required by the older transformers
      - scipy
      - librosa                # Fixed typo (was librosapython)
      - num2words
      - encodec
      - torchmetrics
      - lightning-utilities
      - soundfile
      - einops
      - omegaconf
      - julius
      - hydra-core
      - sentencepiece
      - lazy_loader
      - protobuf
      - spacy
      - huggingface_hub  
      - tqdm
      - joblib
      - decorator
      - pooch